(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,a){e.exports={project_details:"Project_project_details__20Hvx",service_form_container:"Project_service_form_container__3_8Dh",details_container:"Project_details_container__1TGmd",btn:"Project_btn__1kERs",project_info:"Project_project_info__2lU-Y"}},function(e,t,a){e.exports={project_card:"ProjectCard_project_card__1sscJ",category_text:"ProjectCard_category_text__2-X_Y",infra:"ProjectCard_infra__sKNhO",desenvolvimento:"ProjectCard_desenvolvimento__OP-Ks",design:"ProjectCard_design__2irj6",planejamento:"ProjectCard_planejamento__2V0Hv",project_card_actions:"ProjectCard_project_card_actions__3zfUW"}},function(e,t,a){e.exports={navbar:"Navbar_navbar__ABSbp",list:"Navbar_list__2XoO7",item:"Navbar_item__2N7_0"}},,function(e,t,a){e.exports={form:"ProjectForm_form__3NzVG"}},function(e,t,a){e.exports={footer:"Footer_footer__XCgmw",social_list:"Footer_social_list__1Cfh3",copy_right:"Footer_copy_right__3_AEh"}},,,function(e,t,a){e.exports={message:"Message_message__WaM4u",success:"Message_success__1w6Nv",error:"Message_error__dZmoD"}},function(e,t,a){e.exports={container:"Container_container__1tm9G","min-height":"Container_min-height__19FgD",start:"Container_start__31225",column:"Container_column__7E5b3"}},function(e,t,a){e.exports={loader_container:"Loading_loader_container__3yP_h",loader:"Loading_loader__3-jv_"}},function(e,t,a){e.exports={project_card:"Projects_project_card__1cN24",category_text:"Projects_category_text__pqcep",infra:"Projects_infra__1B_R5",desenvolvimento:"Projects_desenvolvimento__90Ac1",design:"Projects_design__BtjN5",planejamento:"Projects_planejamento__1fvtT",project_card_actions:"Projects_project_card_actions__1kcTN"}},,,function(e,t,a){e.exports={home_container:"Home_home_container__3Y5kV"}},function(e,t,a){e.exports=a.p+"static/media/custos.6ff46bbf.png"},function(e,t,a){e.exports={btn:"LinkButton_btn__grlku"}},function(e,t,a){e.exports={newproject_container:"NewProject_newproject_container__1TrdL"}},function(e,t,a){e.exports={form_control:"Input_form_control__2hYFV"}},function(e,t,a){e.exports={form_control:"Select_form_control__1z4un"}},function(e,t,a){e.exports={btn:"SubmitButton_btn__1plJ5"}},function(e,t,a){e.exports=a.p+"static/media/loading.37833178.svg"},function(e,t,a){e.exports=a.p+"static/media/moeda.393ed0c7.png"},function(e,t,a){e.exports=a(37)},,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(18),c=a.n(r),l=(a(36),a(4)),s=a(2),m=a(19),i=a.n(m),u=a(20),p=a.n(u),d=a(21),_=a.n(d);var E=function(e){let{to:t,text:a}=e;return o.a.createElement(l.b,{className:_.a.btn,to:t},a)};var h=function(){return o.a.createElement("section",{className:i.a.home_container},o.a.createElement("h1",null,"Bem-vindo ao ",o.a.createElement("span",null,"Custos")),o.a.createElement("p",null,"Comece a gerenciar seus projetos agora mesmo!"),o.a.createElement(E,{to:"/newproject",text:"Criar Projeto"}),o.a.createElement("a",{href:"/"}),o.a.createElement("img",{src:p.a,alt:"Custos"}))};var j=function(){return o.a.createElement("h1",null," Contact ")};var f=function(){return o.a.createElement("h1",null," Company ")},g=a(22),v=a.n(g),b=a(23),C=a.n(b);var N=function(e){let{type:t,text:a,name:n,placeholder:r,handleOnChange:c,value:l}=e;return o.a.createElement("div",{className:C.a.form_control},o.a.createElement("label",{htmlFor:n},a,":"),o.a.createElement("input",{type:t,name:n,id:n,placeholder:r,onChange:c,value:l}))},x=a(9),y=a.n(x),P=a(24),O=a.n(P);var S=function(e){let{text:t,name:a,options:n,handleOnChange:r,value:c}=e;return o.a.createElement("div",{className:O.a.form_control},o.a.createElement("label",{htmlFor:a},t,":"),o.a.createElement("select",{name:a,id:a,onChange:r,value:c},o.a.createElement("option",null,"Selecione uma op\xe7\xe3o"),n.map(e=>o.a.createElement("option",{value:e.id,key:e.id},e.name))))},T=a(25),F=a.n(T);var w=function(e){let{text:t}=e;return o.a.createElement("div",null,o.a.createElement("button",{className:F.a.btn},t))};var D=function(e){let{handleSubmit:t,btnText:a,projectData:r}=e;const[c,l]=Object(n.useState)([]),[s,m]=Object(n.useState)(r||{});function i(e){m({...s,[e.target.name]:e.target.value})}return Object(n.useEffect)(()=>{fetch("http://localhost:5000/categories",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log("Categorias carregadas:",e),l(e)}).catch(e=>{console.error("Erro ao carregar categorias:",e)})},[]),o.a.createElement("form",{onSubmit:e=>{e.preventDefault(),t(s)},className:y.a.form},o.a.createElement(N,{type:"text",text:"Nome do projeto",name:"name",placeholder:"Insira o nome do projeto",handleOnChange:i,value:s.name?s.name:""}),o.a.createElement(N,{type:"number",text:"Or\xe7amento do projeto",name:"budget",placeholder:"Insira o or\xe7amento do projeto",handleOnChange:i,value:s.budget?s.budget:""}),o.a.createElement(S,{name:"category_id",text:"Selecione a categoria",options:c,handleOnChange:function(e){m({...s,category:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}})},value:s.category?s.category.id:""}),o.a.createElement(w,{text:a}))};var $=function(){const e=Object(s.p)();return o.a.createElement("div",{className:v.a.newproject_container},o.a.createElement("h1",null,"Criar Projeto"),o.a.createElement("p",null,"Crie seu projeto para depois adicionar os servi\xe7os"),o.a.createElement(D,{handleSubmit:function(t){t.cost=0,t.services=[],fetch("http://localhost:5000/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{console.log(t),e("/projects",{state:{message:"Projeto criado com sucesso!"}})}).catch(e=>console.log(e))},btnText:"Criar Projeto"}))},k=a(13),R=a.n(k);var A=function(e){let{type:t,msg:a}=e;const[r,c]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{if(!a)return void c(!1);c(!0);const e=setTimeout(()=>{c(!1)},3e3);return()=>clearTimeout(e)},[a]),o.a.createElement(o.a.Fragment,null,r&&o.a.createElement("div",{className:`${R.a.message} ${R.a[t]}`},a))},I=a(14),L=a.n(I);var B=function(e){return o.a.createElement("div",{className:`${L.a.container} ${L.a[e.customClass]}`},e.children)},J=a(26),M=a.n(J),G=a(15),H=a.n(G);var z=function(){return o.a.createElement("div",{className:H.a.loader_container},o.a.createElement("img",{className:H.a.loader,src:M.a,alt:"Loading"}))},V=a(16),Y=a.n(V),q=a(6),X=a.n(q),K=a(8);var U=function(e){let{id:t,name:a,budget:n,category:r,handleRemove:c}=e;const s=r||"Sem categoria";return o.a.createElement("div",{className:X.a.project_card},o.a.createElement("h4",null,a),o.a.createElement("p",null,o.a.createElement("span",null,"Or\xe7amento:")," R$",n),o.a.createElement("p",{className:X.a.category_text},o.a.createElement("span",{className:`${X.a[s.toLowerCase()]||""}`})," ",s),o.a.createElement("div",{className:X.a.project_card_actions},o.a.createElement(l.b,{to:`/project/${t}`},o.a.createElement(K.b,null)," Editar"),o.a.createElement("button",{onClick:e=>{e.preventDefault(),c(t)}},o.a.createElement(K.a,null)," Excluir")))};var W=function(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)(!1),[c,l]=Object(n.useState)(""),m=Object(s.n)();let i="";function u(a){fetch(`http://localhost:5000/projects/${a}`,{method:"DELETE",headers:{"Content-type":"application/json"}}).then(e=>e.json()).then(()=>{t(e.filter(e=>e.id!==a)),l("Projeto removido com sucesso!")}).catch(e=>console.log(e))}return m.state&&(i=m.state.message),Object(n.useEffect)(()=>{setTimeout(()=>{fetch("http://localhost:5000/projects",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{console.log(e),t(e),r(!0)}).catch(e=>console.log(e))},300)},[]),o.a.createElement("div",{className:Y.a.project_container},o.a.createElement("div",{className:Y.a.title_container},o.a.createElement("h1",null,"Meus Projetos"),o.a.createElement(E,{to:"/newproject",text:"Novo Projeto"})),i&&o.a.createElement(A,{type:"success",msg:i}),c&&o.a.createElement(A,{type:"success",msg:c}),o.a.createElement(B,{customClass:"start"},e.length>0&&e.filter(e=>e.name&&e.category&&e.category.name).map(e=>o.a.createElement(U,{id:e.id,name:e.name,budget:e.budget,category:e.category.name,key:e.id,handleRemove:u})),!a&&o.a.createElement(z,null),a&&0===e.length&&o.a.createElement("p",null,"N\xe3o h\xe1 projetos cadastrados!")))},Z=a(7),Q=a.n(Z),ee=a(27),te=a.n(ee);var ae=function(){return o.a.createElement("nav",{className:Q.a.navbar},o.a.createElement(B,null,o.a.createElement(l.b,{to:"/"},o.a.createElement("img",{className:Q.a.logo,src:te.a,alt:"Moeda",style:{width:"130px",height:"130px"}})),o.a.createElement("ul",{className:Q.a.list},o.a.createElement("li",{className:Q.a.item},o.a.createElement(l.b,{to:"/"},"In\xedcio")),o.a.createElement("li",{className:Q.a.item},o.a.createElement(l.b,{to:"projects"},"Projetos")),o.a.createElement("li",{className:Q.a.item},o.a.createElement(l.b,{to:"/company"},"Empresa")),o.a.createElement("li",{className:Q.a.item},o.a.createElement(l.b,{to:"/contact"},"Contato")))))},ne=a(11),oe=a(10),re=a.n(oe);var ce=function(){return o.a.createElement("footer",{className:re.a.footer},o.a.createElement("ul",{className:re.a.social_list},o.a.createElement("li",null,o.a.createElement(ne.a,null)),o.a.createElement("li",null,o.a.createElement(ne.b,null)),o.a.createElement("li",null,o.a.createElement(ne.c,null))),o.a.createElement("p",{className:re.a.copy_right},o.a.createElement("span",null,"Custos")," \xa9 2024"))},le=a(39),se=a(5),me=a.n(se);var ie=function(e){let{handleSubmit:t,btnText:a,projectData:r}=e;const[c,l]=Object(n.useState)({});function s(e){l({...c,[e.target.name]:e.target.value})}return console.log("btnText:",a),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r.services.push(c),t(r)},className:y.a.form},o.a.createElement(N,{type:"text",text:"Nome do servi\xe7o",name:"name",placeholder:"Insira o nome do servi\xe7o",handleOnChange:s}),o.a.createElement(N,{type:"number",text:"Custo do servi\xe7o",name:"cost",placeholder:"Insira o valor total",handleOnChange:s}),o.a.createElement(N,{type:"text",text:"Descri\xe7\xe3o do servi\xe7o",name:"description",placeholder:"Descreva o servi\xe7o",handleOnChange:s}),o.a.createElement(w,{text:a}))};var ue=function(e){let{id:t,name:a,cost:n,description:r,handleRemove:c}=e;return o.a.createElement("div",{className:X.a.project_card},o.a.createElement("h4",null,a),o.a.createElement("p",null,o.a.createElement("span",null,"Custo total:")," R$",n),o.a.createElement("p",null,r),o.a.createElement("div",{className:X.a.project_card_actions},o.a.createElement("button",{onClick:e=>{e.preventDefault(),c(t,n)}},o.a.createElement(K.a,null),"Excluir")))};var pe=function(){var e;const{id:t}=Object(s.r)(),[a,r]=Object(n.useState)([]),[c,l]=Object(n.useState)([]),[m,i]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[d,_]=Object(n.useState)(),[E,h]=Object(n.useState)();function j(e,t){_("");const n=a.services.filter(t=>t.id!==e),o=a;o.services=n,o.cost=parseFloat(o.cost)-parseFloat(t),fetch(`http://localhost:5000/projects/${o.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(e=>{r(o),l(n),_("Servi\xe7o removido com sucesso!")}).catch(e=>console.log(e))}return Object(n.useEffect)(()=>{setTimeout(()=>{fetch(`http://localhost:5000/projects/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{r(e),l(e.services)}).catch(e=>console.log(e))},300)},[t]),o.a.createElement(o.a.Fragment,null,a.name?o.a.createElement("div",{className:me.a.project_details},o.a.createElement(B,{customClass:"column"},d&&o.a.createElement(A,{type:E,msg:d}),o.a.createElement("div",{className:me.a.details_container},o.a.createElement("h1",null,"Projeto: ",a.name),o.a.createElement("button",{className:me.a.btn,onClick:function(){i(!m)}},m?"Fechar":"Editar Projeto"),m?o.a.createElement("div",{className:me.a.project_info},o.a.createElement(D,{handleSubmit:function(e){if(_(""),e.budget<e.cost)return _("O or\xe7amento n\xe3o pode ser menor que o custo do projeto!"),h("error"),!1;fetch(`http://localhost:5000/projects/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{r(e),i(!1),_("Projeto atualizado!"),h("success")}).catch(e=>console.log(e))},btnText:"Concluir edi\xe7\xe3o",projectData:a})):o.a.createElement("div",{className:me.a.project_info},o.a.createElement("p",null,o.a.createElement("span",null,"Categoria:")," ",(null===(e=a.category)||void 0===e?void 0:e.name)||"Sem categoria"),o.a.createElement("p",null,o.a.createElement("span",null,"Total de Or\xe7amento")," R$ ",a.budget),o.a.createElement("p",null,o.a.createElement("span",null,"Total utilizado")," R$ ",a.cost))),o.a.createElement("div",{className:me.a.service_form_container},o.a.createElement("h2",null,"Adicione um servi\xe7o"),o.a.createElement("button",{className:me.a.btn,onClick:function(){p(!u)}},u?"Fechar":"Adicionar Servi\xe7o"),o.a.createElement("div",{className:me.a.project_info},u&&o.a.createElement(ie,{handleSubmit:function(e){_("");const t=e.services[e.services.length-1];t.id=Object(le.a)();const a=t.cost,n=parseFloat(e.cost)+parseFloat(a);if(n>parseFloat(e.budget))return _("Or\xe7amento ultrapassado, verifique o valor do servi\xe7o"),h("error"),e.services.pop(),!1;e.cost=n,fetch(`http://localhost:5000/projects/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{p(!1)}).catch(e=>console.log(e))},btnText:"Adicionar Servi\xe7o",projectData:a}))),o.a.createElement("h2",null,"Servi\xe7os"),o.a.createElement(B,{customClass:"start"},c.length>0&&c.map(e=>o.a.createElement(ue,{id:e.id,name:e.name,cost:e.cost,description:e.description,key:e.id,handleRemove:j})),0===c.length&&o.a.createElement("p",null,"N\xe3o h\xe1 servi\xe7os cadastrados.")))):o.a.createElement(z,null))};var de=function(){return o.a.createElement(l.a,null,o.a.createElement(ae,null),o.a.createElement(B,{customClass:"min-height"},o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",element:o.a.createElement(h,null)}),o.a.createElement(s.a,{path:"/Projects",element:o.a.createElement(W,null)}),o.a.createElement(s.a,{path:"/Company",element:o.a.createElement(f,null)}),o.a.createElement(s.a,{path:"/contact",element:o.a.createElement(j,null)}),o.a.createElement(s.a,{path:"/NewProject",element:o.a.createElement($,null)}),o.a.createElement(s.a,{path:"/Project/:id",element:o.a.createElement(pe,null)}))),o.a.createElement(ce,null))};var _e=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then(t=>{let{getCLS:a,getFID:n,getFCP:o,getLCP:r,getTTFB:c}=t;a(e),n(e),o(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(de,null))),_e()}],[[28,1,2]]]);
//# sourceMappingURL=main.ef861f06.chunk.js.map